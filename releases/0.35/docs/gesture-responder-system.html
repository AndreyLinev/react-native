<!DOCTYPE html><html><head><title>Определение жестов</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width"><meta property="fb:app_id" content="1677033832619985"><meta property="fb:admins" content="121800083"><meta property="og:site_name" content="React Native"><meta property="og:title" content="Определение жестов"><meta property="og:url" content="https://github.com/egeshi/react-native/index.html"><meta property="og:image" content="https://github.com/egeshi/react-native/img/opengraph.png"><meta property="og:description" content="Фреймворк для разработки нативных мобильных приложений на React"><meta name="twitter:site" content="@antonyrepin"><meta name="twitter:card" content="summary_large_image"><meta property="og:type" content="website"><base href="/react-native/releases/0.35/"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="shortcut icon" href="img/favicon.png?2"><link rel="stylesheet" href="css/react-native.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, "script", "twitter-wjs"));</script><div class="container"><div class="nav-main"><div class="wrap"><a class="nav-home" href=""><img src="img/header_logo.png">React Native</a><a class="nav-version" href="/react-native/versions.html">0.35</a><div class="nav-site-wrapper"><ul class="nav-site nav-site-internal"><li><a href="docs/getting-started.html" class="active" data-target=".nav-docs">Документация</a></li><li><a href="/react-native/support.html" class="">Помощь</a></li><li><a href="/react-native/showcase.html" class="">Выставка</a></li><li><a href="/react-native/blog/" class="">Блог</a></li></ul><div class="algolia-search-wrapper"><input id="algolia-doc-search" tabindex="0" type="text" placeholder="Поиск..."></div><ul class="nav-site nav-site-external"><li><a href="https://github.com/egeshi/react-native" class="">GitHub</a></li><li><a href="http://facebook.github.io/react" class="">React</a></li></ul></div></div></div><section class="content wrap documentationContent"><div class="nav-docs"><div class="nav-docs-viewport"><div class="nav-docs-section"><h3>Основы</h3><ul><li><a style="margin-left:0;" class="" href="docs/getting-started.html">Поехали!</a></li><li><a style="margin-left:0;" class="" href="docs/tutorial.html">Первый урок</a></li><li><a style="margin-left:0;" class="" href="docs/props.html">Свойства</a></li><li><a style="margin-left:0;" class="" href="docs/state.html">Состояние</a></li><li><a style="margin-left:0;" class="" href="docs/style.html">Стили</a></li><li><a style="margin-left:0;" class="" href="docs/height-and-width.html">Высота и ширина</a></li><li><a style="margin-left:0;" class="" href="docs/flexbox.html">Разметка Flexbox</a></li><li><a style="margin-left:0;" class="" href="docs/handling-text-input.html">Ввод текста</a></li><li><a style="margin-left:0;" class="" href="docs/using-a-scrollview.html">Использование ScrollView</a></li><li><a style="margin-left:0;" class="" href="docs/using-a-listview.html">Использование ListView</a></li><li><a style="margin-left:0;" class="" href="docs/network.html">Сетевые данные</a></li><li><a style="margin-left:0;" class="" href="docs/using-navigators.html">Навигаторы</a></li><li><a style="margin-left:0;" class="" href="docs/more-resources.html">Другие ресурсы</a></li></ul><div class="nav-docs-section"><h3>Поддержите переводчика</h3><p>Ребята, на сайте нет рекламы, я не работаю на Facebook и не имею спонсоров кроме вас ;) Не стесняйтесь! Сумму вы можете указать сами в поле формы ниже.<br>Благодарю за вашу поддержку!</p><div><iframe src="https://funding.webmoney.ru/widgets/vertical/15512811-ff28-45b6-ae5d-85b0a7ea9638?hc=1&amp;hs=1&amp;sum=50" width="240" height="190" scrolling="no" style="border:none;"></iframe></div></div></div><div class="nav-docs-section"><h3>Руководства</h3><ul><li><a style="margin-left:0;" class="" href="docs/integration-with-existing-apps.html">Интеграция с приложениями</a></li><li><a style="margin-left:0;" class="" href="docs/colors.html">Цвета</a></li><li><a style="margin-left:0;" class="" href="docs/images.html">Изображения</a></li><li><a style="margin-left:0;" class="" href="docs/handling-touches.html">Нажатия</a></li><li><a style="margin-left:0;" class="" href="docs/animations.html">Анимация</a></li><li><a style="margin-left:0;" class="" href="docs/accessibility.html">Специальные возможности</a></li><li><a style="margin-left:0;" class="" href="docs/timers.html">Таймеры</a></li><li><a style="margin-left:0;" class="" href="docs/direct-manipulation.html">Непосредственная манипуляция</a></li><li><a style="margin-left:0;" class="" href="docs/debugging.html">Устранение ошибок</a></li><li><a style="margin-left:0;" class="" href="docs/testing.html">Тестирование</a></li><li><a style="margin-left:0;" class="" href="docs/javascript-environment.html">Среда JavaScript</a></li><li><a style="margin-left:0;" class="" href="docs/navigation.html">Навигация</a></li><li><a style="margin-left:0;" class="" href="docs/performance.html">Производительность</a></li><li><a style="margin-left:0;" class="" href="docs/upgrading.html">Новые версии</a></li><li><a style="margin-left:0;" class="" href="docs/platform-specific-code.html">Платформозавимимый код</a></li><li><a style="margin-left:0;" class="active" href="docs/gesture-responder-system.html">Определение жестов</a></li></ul></div><div class="nav-docs-section"><h3>Руководства (iOS)</h3><ul><li><a style="margin-left:0;" class="" href="docs/native-modules-ios.html">Нативные модули</a></li><li><a style="margin-left:0;" class="" href="docs/native-components-ios.html">Нативные компоненты UI</a></li><li><a style="margin-left:0;" class="" href="docs/linking-libraries-ios.html">Привязка библиотек</a></li><li><a style="margin-left:0;" class="" href="docs/running-on-device-ios.html">Запуск на устройстве</a></li><li><a style="margin-left:0;" class="" href="docs/running-on-simulator-ios.html">Запуск на симуляторе</a></li><li><a style="margin-left:0;" class="" href="docs/communication-ios.html">Коммуникация нативного и React Native</a></li></ul></div><div class="nav-docs-section"><h3>Руководства (Android)</h3><ul><li><a style="margin-left:0;" class="" href="docs/native-modules-android.html">Нативные модули</a></li><li><a style="margin-left:0;" class="" href="docs/native-components-android.html">Нативные компоненты UI</a></li><li><a style="margin-left:0;" class="" href="docs/running-on-device-android.html">Запуск на устройстве</a></li><li><a style="margin-left:0;" class="" href="docs/signed-apk-android.html">Создание подписанного APK</a></li><li><a style="margin-left:0;" class="" href="docs/android-ui-performance.html">Производительность Android UI</a></li><li><a style="margin-left:0;" class="" href="docs/android-building-from-source.html">Сборка React Native из исходного кода</a></li></ul></div><div class="nav-docs-section"><h3>components</h3><ul><li><a style="margin-left:0;" class="" href="docs/activityindicator.html">ActivityIndicator</a></li><li><a style="margin-left:0;" class="" href="docs/activityindicatorios.html">ActivityIndicatorIOS</a></li><li><a style="margin-left:0;" class="" href="docs/datepickerios.html">DatePickerIOS</a></li><li><a style="margin-left:0;" class="" href="docs/drawerlayoutandroid.html">DrawerLayoutAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/image.html">Image</a></li><li><a style="margin-left:0;" class="" href="docs/keyboardavoidingview.html">KeyboardAvoidingView</a></li><li><a style="margin-left:0;" class="" href="docs/listview.html">ListView</a></li><li><a style="margin-left:0;" class="" href="docs/mapview.html">MapView</a></li><li><a style="margin-left:0;" class="" href="docs/modal.html">Modal</a></li><li><a style="margin-left:0;" class="" href="docs/navigator.html">Navigator</a></li><li><a style="margin-left:0;" class="" href="docs/navigatorios.html">NavigatorIOS</a></li><li><a style="margin-left:0;" class="" href="docs/picker.html">Picker</a></li><li><a style="margin-left:0;" class="" href="docs/pickerios.html">PickerIOS</a></li><li><a style="margin-left:0;" class="" href="docs/progressbarandroid.html">ProgressBarAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/progressviewios.html">ProgressViewIOS</a></li><li><a style="margin-left:0;" class="" href="docs/refreshcontrol.html">RefreshControl</a></li><li><a style="margin-left:0;" class="" href="docs/scrollview.html">ScrollView</a></li><li><a style="margin-left:0;" class="" href="docs/segmentedcontrolios.html">SegmentedControlIOS</a></li><li><a style="margin-left:0;" class="" href="docs/slider.html">Slider</a></li><li><a style="margin-left:0;" class="" href="docs/sliderios.html">SliderIOS</a></li><li><a style="margin-left:0;" class="" href="docs/statusbar.html">StatusBar</a></li><li><a style="margin-left:0;" class="" href="docs/snapshotviewios.html">SnapshotViewIOS</a></li><li><a style="margin-left:0;" class="" href="docs/switch.html">Switch</a></li><li><a style="margin-left:0;" class="" href="docs/switchandroid.html">SwitchAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/switchios.html">SwitchIOS</a></li><li><a style="margin-left:0;" class="" href="docs/tabbarios.html">TabBarIOS</a></li><li><a style="margin-left:0;" class="" href="docs/tabbarios-item.html">TabBarIOS.Item</a></li><li><a style="margin-left:0;" class="" href="docs/text.html">Text</a></li><li><a style="margin-left:0;" class="" href="docs/textinput.html">TextInput</a></li><li><a style="margin-left:0;" class="" href="docs/toolbarandroid.html">ToolbarAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/touchablehighlight.html">TouchableHighlight</a></li><li><a style="margin-left:0;" class="" href="docs/touchablenativefeedback.html">TouchableNativeFeedback</a></li><li><a style="margin-left:0;" class="" href="docs/touchableopacity.html">TouchableOpacity</a></li><li><a style="margin-left:0;" class="" href="docs/touchablewithoutfeedback.html">TouchableWithoutFeedback</a></li><li><a style="margin-left:0;" class="" href="docs/view.html">View</a></li><li><a style="margin-left:0;" class="" href="docs/viewpagerandroid.html">ViewPagerAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/webview.html">WebView</a></li></ul></div><div class="nav-docs-section"><h3>apis</h3><ul><li><a style="margin-left:0;" class="" href="docs/actionsheetios.html">ActionSheetIOS</a></li><li><a style="margin-left:0;" class="" href="docs/adsupportios.html">AdSupportIOS</a></li><li><a style="margin-left:0;" class="" href="docs/alert.html">Alert</a></li><li><a style="margin-left:0;" class="" href="docs/alertios.html">AlertIOS</a></li><li><a style="margin-left:0;" class="" href="docs/animated.html">Animated</a></li><li><a style="margin-left:0;" class="" href="docs/appregistry.html">AppRegistry</a></li><li><a style="margin-left:0;" class="" href="docs/appstate.html">AppState</a></li><li><a style="margin-left:0;" class="" href="docs/asyncstorage.html">AsyncStorage</a></li><li><a style="margin-left:0;" class="" href="docs/backandroid.html">BackAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/cameraroll.html">CameraRoll</a></li><li><a style="margin-left:0;" class="" href="docs/clipboard.html">Clipboard</a></li><li><a style="margin-left:0;" class="" href="docs/datepickerandroid.html">DatePickerAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/dimensions.html">Dimensions</a></li><li><a style="margin-left:0;" class="" href="docs/easing.html">Easing</a></li><li><a style="margin-left:0;" class="" href="docs/geolocation.html">Geolocation</a></li><li><a style="margin-left:0;" class="" href="docs/imageeditor.html">ImageEditor</a></li><li><a style="margin-left:0;" class="" href="docs/imagepickerios.html">ImagePickerIOS</a></li><li><a style="margin-left:0;" class="" href="docs/imagestore.html">ImageStore</a></li><li><a style="margin-left:0;" class="" href="docs/intentandroid.html">IntentAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/interactionmanager.html">InteractionManager</a></li><li><a style="margin-left:0;" class="" href="docs/layoutanimation.html">LayoutAnimation</a></li><li><a style="margin-left:0;" class="" href="docs/linking.html">Linking</a></li><li><a style="margin-left:0;" class="" href="docs/nativemethodsmixin.html">NativeMethodsMixin</a></li><li><a style="margin-left:0;" class="" href="docs/nativemodules.html">NativeModules</a></li><li><a style="margin-left:0;" class="" href="docs/netinfo.html">NetInfo</a></li><li><a style="margin-left:0;" class="" href="docs/panresponder.html">PanResponder</a></li><li><a style="margin-left:0;" class="" href="docs/permissionsandroid.html">PermissionsAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/pixelratio.html">PixelRatio</a></li><li><a style="margin-left:0;" class="" href="docs/pushnotificationios.html">PushNotificationIOS</a></li><li><a style="margin-left:0;" class="" href="docs/settings.html">Settings</a></li><li><a style="margin-left:0;" class="" href="docs/statusbarios.html">StatusBarIOS</a></li><li><a style="margin-left:0;" class="" href="docs/stylesheet.html">StyleSheet</a></li><li><a style="margin-left:0;" class="" href="docs/systrace.html">Systrace</a></li><li><a style="margin-left:0;" class="" href="docs/timepickerandroid.html">TimePickerAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/toastandroid.html">ToastAndroid</a></li><li><a style="margin-left:0;" class="" href="docs/vibration.html">Vibration</a></li><li><a style="margin-left:0;" class="" href="docs/vibrationios.html">VibrationIOS</a></li><li><a style="margin-left:0;" class="" href="docs/layout-props.html">Layout Props</a></li><li><a style="margin-left:0;" class="" href="docs/shadow-props.html">Shadow Props</a></li></ul></div></div></div><div class="inner-content"><a id="content"></a><h1><a class="anchor" name=""></a>Определение жестов <a class="hash-link" href="docs/gesture-responder-system.html#">#</a></h1><div><p>Gesture recognition on mobile devices is much more complicated than web. A touch can go through several phases as the app determines what the user&#x27;s intention is. For example, the app needs to determine if the touch is scrolling, sliding on a widget, or tapping. This can even change during the duration of a touch. There can also be multiple simultaneous touches.</p><p>The touch responder system is needed to allow components to negotiate these touch interactions without any additional knowledge about their parent or child components. This system is implemented in <code>ResponderEventPlugin.js</code>, which contains further details and documentation.</p><h3><a class="anchor" name="best-practices"></a>Best Practices <a class="hash-link" href="docs/gesture-responder-system.html#best-practices">#</a></h3><p>Users can feel huge differences in the usability of web apps vs. native, and this is one of the big causes. Every action should have the following attributes:</p><ul><li>Feedback/highlighting- show the user what is handling their touch, and what will happen when they release the gesture</li><li>Cancel-ability- when making an action, the user should be able to abort it mid-touch by dragging their finger away</li></ul><p>These features make users more comfortable while using an app, because it allows people to experiment and interact without fear of making mistakes.</p><h3><a class="anchor" name="touchablehighlight-and-touchable"></a>TouchableHighlight and Touchable* <a class="hash-link" href="docs/gesture-responder-system.html#touchablehighlight-and-touchable">#</a></h3><p>The responder system can be complicated to use. So we have provided an abstract <code>Touchable</code> implementation for things that should be &quot;tappable&quot;. This uses the responder system and allows you to easily configure tap interactions declaratively. Use <code>TouchableHighlight</code> anywhere where you would use a button or link on web.</p><h2><a class="anchor" name="responder-lifecycle"></a>Responder Lifecycle <a class="hash-link" href="docs/gesture-responder-system.html#responder-lifecycle">#</a></h2><p>A view can become the touch responder by implementing the correct negotiation methods. There are two methods to ask the view if it wants to become responder:</p><ul><li><code>View.props.onStartShouldSetResponder: (evt) =&gt; true,</code> - Does this view want to become responder on the start of a touch?</li><li><code>View.props.onMoveShouldSetResponder: (evt) =&gt; true,</code> - Called for every touch move on the View when it is not the responder: does this view want to &quot;claim&quot; touch responsiveness?</li></ul><p>If the View returns true and attempts to become the responder, one of the following will happen:</p><ul><li><code>View.props.onResponderGrant: (evt) =&gt; {}</code> - The View is now responding for touch events. This is the time to highlight and show the user what is happening</li><li><code>View.props.onResponderReject: (evt) =&gt; {}</code> - Something else is the responder right now and will not release it</li></ul><p>If the view is responding, the following handlers can be called:</p><ul><li><code>View.props.onResponderMove: (evt) =&gt; {}</code> - The user is moving their finger</li><li><code>View.props.onResponderRelease: (evt) =&gt; {}</code> - Fired at the end of the touch, ie &quot;touchUp&quot;</li><li><code>View.props.onResponderTerminationRequest: (evt) =&gt; true</code> - Something else wants to become responder. Should this view release the responder? Returning true allows release</li><li><code>View.props.onResponderTerminate: (evt) =&gt; {}</code> - The responder has been taken from the View. Might be taken by other views after a call to <code>onResponderTerminationRequest</code>, or might be taken by the OS without asking (happens with control center/ notification center on iOS)</li></ul><p><code>evt</code> is a synthetic touch event with the following form:</p><ul><li><code>nativeEvent</code><ul><li><code>changedTouches</code> - Array of all touch events that have changed since the last event</li><li><code>identifier</code> - The ID of the touch</li><li><code>locationX</code> - The X position of the touch, relative to the element</li><li><code>locationY</code> - The Y position of the touch, relative to the element</li><li><code>pageX</code> - The X position of the touch, relative to the root element</li><li><code>pageY</code> - The Y position of the touch, relative to the root element</li><li><code>target</code> - The node id of the element receiving the touch event</li><li><code>timestamp</code> - A time identifier for the touch, useful for velocity calculation</li><li><code>touches</code> - Array of all current touches on the screen</li></ul></li></ul><h3><a class="anchor" name="capture-shouldset-handlers"></a>Capture ShouldSet Handlers <a class="hash-link" href="docs/gesture-responder-system.html#capture-shouldset-handlers">#</a></h3><p><code>onStartShouldSetResponder</code> and <code>onMoveShouldSetResponder</code> are called with a bubbling pattern, where the deepest node is called first. That means that the deepest component will become responder when multiple Views return true for <code>*ShouldSetResponder</code> handlers. This is desirable in most cases, because it makes sure all controls and buttons are usable.</p><p>However, sometimes a parent will want to make sure that it becomes responder. This can be handled by using the capture phase. Before the responder system bubbles up from the deepest component, it will do a capture phase, firing <code>on*ShouldSetResponderCapture</code>. So if a parent View wants to prevent the child from becoming responder on a touch start, it should have a <code>onStartShouldSetResponderCapture</code> handler which returns true.</p><ul><li><code>View.props.onStartShouldSetResponderCapture: (evt) =&gt; true,</code></li><li><code>View.props.onMoveShouldSetResponderCapture: (evt) =&gt; true,</code></li></ul><h3><a class="anchor" name="panresponder"></a>PanResponder <a class="hash-link" href="docs/gesture-responder-system.html#panresponder">#</a></h3><p>For higher-level gesture interpretation, check out <a href="docs/panresponder.html" target="_blank">PanResponder</a>.</p></div><div class="docs-prevnext"><a class="docs-prev" href="docs/platform-specific-code.html#content">← Назад</a><a class="docs-next" href="docs/native-modules-ios.html#content">Далее →</a></div><p class="edit-page-block">Вы можете <a target="_blank" href="https://github.com/egeshi/react-native/blob/master/docs/GestureResponderSystem.md">отредактировать перевод на GitHub</a> и создать pull request!</p></div></section><footer class="wrap"><div class="center"><a class="twitter-timeline" href="https://twitter.com/search?q=react%20native" data-widget-id="759895038889332736">Твиты о react native</a></div><div class="center">Translation &copy; 2016 <a href="https://ua.linkedin.com/in/egeshi">Antony Repin</a></div><div class="center"><a href="https://twitter.com/egeshi" class="twitter-follow-button" data-show-count="false">Follow @egeshi</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div><div class="center">Code samples, custom components and original English texts are courtesy of Facebook Inc.</div></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-81752712-1', 'auto');
            ga('send', 'pageview');


            window.twttr = (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0],
                t = window.twttr || {};
            if (d.getElementById(id)) return t;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js, fjs);

            t._e = [];
            t.ready = function(f) {
              t._e.push(f);
            };

            return t;
          }(document, "script", "twitter-wjs"));


            (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
              try {
                w.yaCounter38813025 = new Ya.Metrika({
                  id:38813025,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
                });
              } catch(e) { }
            });

            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/watch.js";

            if (w.opera == "[object Opera]") {
              d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
          })(document, window, "yandex_metrika_callbacks");


            docsearch({
              apiKey: '18ab1b339ae4030cb2947cb0c4d2fa80',
              indexName: 'reactnative',
              inputSelector: '#algolia-doc-search',
              algoliaOptions: { facetFilters: [ "tags:0.35" ], hitsPerPage: 5 }
            });
          </script><noscript><div><img src="https://mc.yandex.ru/watch/38813025" style="position:absolute; left:-9999px;" alt="" /></div> </noscript><script src="js/scripts.js"></script></body></html>